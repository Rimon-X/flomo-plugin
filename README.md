# Flomo笔记插件 v1.0

这是一个Chrome浏览器扩展，用于快速将网页内容保存到Flomo笔记。它提供了侧边栏界面，让您可以更方便地记录和整理您的想法。

## 主要功能

1. **侧边栏界面**：使用Chrome的侧边栏API，提供更好的用户体验
2. **智能标题生成**：使用AI自动为您的笔记生成标题
3. **标签管理**：支持标签记忆、双击编辑和一键删除
4. **今日统计**：显示您今天已提交的笔记数量
5. **自定义设置**：可配置Flomo API和AI API

## 安装方法

1. 下载或克隆本仓库到本地
2. 在Chrome浏览器中打开 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"，选择本仓库文件夹
5. 安装完成后，点击Chrome工具栏中的插件图标即可使用

## 使用方法

### 基本使用

1. 在任意网页点击插件图标，打开侧边栏
2. 插件会自动获取当前网页的标题和URL
3. 填写摘要、感想和标签
4. 点击"保存到Flomo"按钮提交笔记

### 智能标题生成

1. 填写摘要和感想后，点击"生成智能标题"按钮
2. 等待AI生成标题（需要配置API密钥）
3. 点击"使用此标题"按钮将生成的标题应用到标题输入框

### 标签管理

1. 在标签输入框中输入标签，按回车或空格添加
2. 鼠标悬停在标签上可以看到操作提示
3. 点击标签右侧的"×"可以删除标签
4. 双击标签可以编辑标签

### 设置

1. 点击侧边栏右上角的⚙️图标打开设置面板
2. 配置您的Flomo API地址（从Flomo网站获取）
3. 配置AI API密钥和URL（支持OpenAI和SiliconFlow等）
4. 点击"保存"按钮保存设置

## API配置说明

### Flomo API

在Flomo网站的设置中获取您的API地址。

### AI API

本插件支持以下几种模式：

1. **OpenAI API**：使用OpenAI的API生成标题
   - API URL: `https://api.openai.com/v1/chat/completions`
   - API Key: 您的OpenAI API密钥

2. **SiliconFlow API (DeepSeek-V3)**：使用SiliconFlow的DeepSeek-V3模型生成标题
   - API URL: `https://api.siliconflow.cn/v1/chat/completions`
   - API Key: 您的SiliconFlow API密钥
   - 模型: `deepseek-ai/DeepSeek-V3`

3. **本地模式**：不使用外部API，直接从内容中提取前几个字作为标题
   - API URL: 输入"local"
   - API Key: 输入"local"

## 调试功能

为了帮助用户更好地排查问题，插件新增了调试模式功能：

1. 在设置面板中勾选"调试模式"选项
2. 开启调试模式后，插件会在界面底部显示一个调试信息区域
3. 调试信息区域会实时显示API请求和响应的详细信息
4. 当出现错误时，调试信息区域会显示详细的错误信息

调试模式适用于以下情况：
- 智能标题生成失败时，查看具体的API错误信息
- 验证API请求参数是否正确
- 检查API响应数据格式
- 排查其他功能问题

**注意**：调试模式会显示API请求和响应的详细信息，包括部分API密钥信息，请在公共场合使用时注意保护您的隐私。

## 版本历史

### v1.0 (2025-03-04)
- 支持SiliconFlow的DeepSeek-V3模型
- 添加调试模式功能，方便排查API问题
- 优化错误处理和用户提示
- 完善文档和使用说明

### v0.9 (2025-02-28)
- 将弹出窗口改为侧边栏形式
- 简化界面和交互流程
- 添加智能化标题功能
- 实现标签记忆功能
- 增加今日提交统计功能

## 注意事项

1. 本插件需要Chrome 114及以上版本才能使用侧边栏功能
2. 在低版本Chrome中，插件会自动切换为弹出窗口模式
3. 使用智能标题功能需要配置有效的API密钥
4. 所有数据和设置保存在本地，不会上传到任何服务器

## 常见问题

### 智能标题生成失败

1. 检查API密钥和URL是否正确
2. 确保您的API账户有足够的额度
3. 尝试使用本地模式（在API设置中输入"local"）
4. 使用SiliconFlow API时，确保使用的是DeepSeek-V3模型
   - 错误信息"Model does not exist"通常表示模型名称不正确
   - 插件已配置为自动使用正确的模型名称"deepseek-ai/DeepSeek-V3"

### 标签显示异常

1. 刷新页面或重新加载插件
2. 清除浏览器缓存后重试

### 无法保存到Flomo

1. 检查Flomo API地址是否正确
2. 确保您的网络连接正常
3. 查看浏览器控制台是否有错误信息

## 开发者信息

本插件使用以下技术开发：

- HTML/CSS/JavaScript
- Chrome Extension API
- Chrome SidePanel API
- OpenAI API

## 隐私声明

本插件不会收集任何个人信息。所有数据和设置都保存在本地浏览器中，不会上传到任何服务器。
